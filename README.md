# CryptoHelper

CryptoHelper — это движок сигналов, который объединяет данные из криптовалютных бирж с техническим анализом и отправкой уведомлений в Telegram.

## Возможности

- Поддержка популярных бирж (Binance, Bybit, KuCoin) через их публичные API.
- Получение OHLC-данных и расчет индикаторов: EMA, RSI, MACD, полосы Боллинджера.
- Детектирование базовых паттернов (пересечение EMA-50/EMA-200, RSI < 30, отскок от нижней полосы Боллинджера).
- Отправка сигналов в Telegram-чат.
- Автоматический подбор глубины исторических данных для стабильных индикаторов с возможностью ручной настройки.
- Безопасная отправка уведомлений с логированием сетевых ошибок Telegram API.
- Гибкая настройка параметров, что позволяет создать freemium-модель с кастомными фильтрами.

## Установка

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Быстрый старт

1. Создайте Telegram-бота и получите токен.
2. Узнайте `chat_id` чата или пользователя, куда бот должен отправлять уведомления.
3. Запустите движок:

```bash
export TELEGRAM_TOKEN="<ваш_токен>"
export TELEGRAM_CHAT_ID="<ваш_chat_id>"
python main.py BTCUSDT 1h --exchange binance
```

При необходимости можно передать параметры явно:

```bash
python main.py ETHUSDT 4h --exchange bybit --ema-fast 21 --ema-slow 55 --rsi-period 10 --candles-limit 350 \
  --telegram-token <token> --telegram-chat <chat_id>
```

## Структура проекта

- `crypto_helper/exchanges` — клиенты для бирж.
- `crypto_helper/indicators` — расчёт технических индикаторов.
- `crypto_helper/notifications` — отправка уведомлений (Telegram).
- `crypto_helper/engine.py` — основной движок сигналов.
- `main.py` — CLI-обёртка для запуска.

## Идеи монетизации

- Подписка на сигналы в Telegram, на сайте или через API.
- Модель freemium: первые 3 монеты доступны бесплатно, остальные — по подписке.
- Платные кастомные фильтры (например, фильтрация low-risk сигналов или выбор конкретных паттернов).

## Ограничения и TODO

- Для работы с биржами требуется сетевое подключение и отсутствие ограничений на API.
- При сбоях Telegram уведомления не теряются: система логирует ошибку и продолжает выполнение.
- Стоит добавить систему хранения истории и дашборд для аналитики.
- Реализовать очередь задач и кеширование данных для повышения производительности.
